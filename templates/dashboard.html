{% extends 'base.html' %}

{% block title %}BIG COMPANY ê³ ìš©, ì£¼ê°€ ëŒ€ì‹œë³´ë“œ{% endblock %}

{% block content %}
<style>
    /* ì „ì²´ ë°°ê²½ */
    .dashboard-wrapper {
        background-color: #f4f7f6;
        padding: 40px 20px;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center; /* ëª¨ë“  ìì‹ ìš”ì†Œë¥¼ ì¤‘ì•™ ì •ë ¬ */
    }

    /* ëª¨ë“  ì„¹ì…˜ì˜ ê³µí†µ ë„ˆë¹„ ì„¤ì • (í•µì‹¬) */
    .content-container {
        width: 100%;
        max-width: 1200px; /* ì—¬ê¸°ì„œ ë„ˆë¹„ë¥¼ ë”± ë§ì¶¥ë‹ˆë‹¤ */
        margin: 0 auto;
    }

    .dashboard-title {
        text-align: center;
        margin-bottom: 40px;
        color: #2c3e50;
    }

    /* ì°¨íŠ¸ ê·¸ë¦¬ë“œ */
    .chart-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr); 
        gap: 30px;
        margin-bottom: 40px;
    }

    .chart-card {
        background: #ffffff;
        border-radius: 12px;
        box-shadow: 0 8px 16px rgba(0,0,0,0.06);
        padding: 20px;
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .chart-card img {
        width: 100%; /* ì¹´ë“œ ë„ˆë¹„ì— ê½‰ ì±„ì›€ */
        height: auto;
        display: block;
    }

    /* ì¸ì‚¬ì´íŠ¸ ì„¹ì…˜ ë„ˆë¹„ ë§ì¶¤ */
    .insight-section {
        margin-bottom: 40px;
    }

    .insight-card {
        background: #fff;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 10px 25px rgba(0,0,0,0.05);
        border-left: 8px solid #007bff;
    }

    .insight-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 25px;
    }

    .insight-item {
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
    }

    .insight-item .label {
        display: inline-block;
        background: #007bff;
        color: #fff;
        padding: 3px 12px;
        border-radius: 5px;
        font-size: 0.85rem;
        margin-bottom: 12px;
        font-weight: bold;
    }

    /* í‘¸í„° ë„ˆë¹„ ë§ì¶¤ */
    .dashboard-footer {
        padding: 25px;
        background: #fff;
        border-radius: 12px;
        color: #777;
        font-size: 0.9rem;
        text-align: center; /* ì¤‘ì•™ ì •ë ¬ë¡œ ë³€ê²½í•˜ì—¬ ê¹”ë”í•˜ê²Œ */
        border-top: 3px solid #eee;
    }

    /* ë°˜ì‘í˜• ì²˜ë¦¬ */
    @media (max-width: 992px) {
        .chart-grid, .insight-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

<div class="dashboard-wrapper">
    <div class="content-container">
        
        <div class="dashboard-title">
            <h1>ğŸ“Š BIG COMPANY ì¸ì‚¬ì´íŠ¸ ëŒ€ì‹œë³´ë“œ</h1>
            <p>ë°ì´í„° ê¸°ë°˜ ê¸€ë¡œë²Œ ê¸°ì—… ê³ ìš© ë° ê°€ì¹˜ ë¶„ì„</p>
        </div>

        <div class="chart-grid">
            {% for chart in charts %}
            <div class="chart-card">
                <img src="data:image/png;base64,{{ chart }}" alt="ë¶„ì„ ì°¨íŠ¸">
            </div>
            {% endfor %}
        </div>

        <section class="insight-section">
            <div class="insight-card">
                <h3 style="margin-top:0;"><span style="margin-right:10px;">ğŸ”</span> ì¢…í•© ë¶„ì„ ë° í‰ê°€</h3>
                <div class="insight-grid">
                    <div class="insight-item">
                        <span class="label">ê³ ìš© ì‹œì¥ í˜„í™©</span>
                        <p>í˜„ì¬ ë¶„ì„ ëŒ€ìƒ ê¸°ì—…ì˜ ì´ ê³ ìš© ì¸ì›ì€ <strong>{{ "{:,}".format(summary.total_emp) }}ëª…</strong>ì…ë‹ˆë‹¤. íŠ¹íˆ <strong>{{ summary.top_company }}</strong>ì´(ê°€) ê°€ì¥ ì••ë„ì ì¸ ê³ ìš© ê·œëª¨ë¥¼ ìœ ì§€í•˜ë©° ì‹œì¥ì˜ ì¤‘ì‹¬ì¶• ì—­í• ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.</p>
                    </div>
                    <div class="insight-item">
                        <span class="label">ì£¼ê°€ ë° ê°€ì¹˜ í‰ê°€</span>
                        <p>í‰ê·  ì£¼ê°€ëŠ” <strong>${{ summary.avg_price }}</strong>ë¡œ ì§‘ê³„ë˜ì—ˆìŠµë‹ˆë‹¤. <strong>{{ summary.top_price_company }}</strong>ì˜ ì£¼ê°€ê°€ ê°€ì¥ ë†’ê²Œ í˜•ì„±ë˜ì–´ ìˆìœ¼ë©°, ì´ëŠ” ê³ ìš© ê·œëª¨ì™€ ë°˜ë“œì‹œ ë¹„ë¡€í•˜ì§€ ì•ŠëŠ” 'ê³ ë¶€ê°€ê°€ì¹˜ ê¸°ì—…'ì˜ íŠ¹ì„±ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.</p>
                    </div>
                    <div class="insight-item">
                        <span class="label">ì§€ì—­ì  íŠ¹ì„±</span>
                        <p>ë°ì´í„°ìƒ <strong>{{ summary.top_country }}</strong> ì†Œì¬ ê¸°ì—…ì˜ ë¹„ì¤‘ì´ ê°€ì¥ ë†’ìŠµë‹ˆë‹¤. ì´ëŠ” íŠ¹ì • êµ­ê°€ì— ê¸€ë¡œë²Œ ê±°ëŒ€ ê¸°ì—…ì˜ ë³¸ì‚¬ê°€ ì§‘ì¤‘ë˜ì–´ ìˆëŠ” ì‚°ì—… í´ëŸ¬ìŠ¤í„° í˜„ìƒì„ ë°˜ì˜í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="insight-item">
                        <span class="label">í–¥í›„ ì „ë§</span>
                        <p>ìƒê´€ê³„ìˆ˜ ë¶„ì„ ê²°ê³¼, ê³ ìš© ì¸ì›ê³¼ ê¸°ì—… ê°€ì¹˜ ê°„ì˜ ì—°ê²° ê³ ë¦¬ê°€ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì¸ì  ìì› í™•ë³´ê°€ ê¸°ì—… ì„±ì¥ì˜ í•µì‹¬ ë™ë ¥ì„ì„ ì‹œì‚¬í•˜ë©°, ì§€ì†ì ì¸ ì¸ë ¥ ìœ ì…ì´ ì£¼ê°€ ìƒìŠ¹ì˜ ì„ í–‰ ì§€í‘œê°€ ë  ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.</p>
                    </div>
                </div>
            </div>
        </section>

        <footer class="dashboard-footer">
            <p><strong>Data Source:</strong> Kaggle Biggest Companies in the World</p>
            <p>Analysis by <strong>Python Seaborn & Flask Framework</strong> | Â© 2026 BIG COMPANY</p>
        </footer>

    </div> </div>
{% endblock %}